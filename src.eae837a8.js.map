{"version":3,"sources":["index.js"],"names":["API_KEY","API_URL_Search","API_URL","getMovies","url","response","fetch","headers","showMovies","json","data","containerMovies","document","querySelector","innerHTML","films","forEach","movie","li","createElement","classList","add","filmId","posterUrlPreview","nameRu","year","genres","map","genre","addClassRating","rating","appendChild","vote","addEventListener","e","preventDefault","input","apisearch","value"],"mappings":";AAAA,MAAMA,EAAU,uCACVC,EACJ,gFAEIC,EAAW,2FAIjB,eAAeC,EAAUC,GACjBC,MAAAA,QAAiBC,MAAMF,EAAK,CAChCG,QAAS,CACS,eAAA,mBACHP,YAAAA,KAIjBQ,QAD2BH,EAASI,QAItC,SAASD,EAAWE,GACZC,MAAAA,EAAkBC,SAASC,cAAc,iBAE/CF,EAAgBG,UAAY,GAE5BJ,EAAKK,MAAMC,QAAQC,IACXC,MAAAA,EAAKN,SAASO,cAAc,MAClCD,EAAGE,UAAUC,IAAI,cACjBH,EAAGJ,+BACWG,EAAMK,yGAGLL,EAAMM,uCACNN,EAAMO,+BACJP,EAAMK,0KAMUL,EAAMO,qDACJP,EAAMQ,SAASR,EAAMS,OAAOC,IAAIC,GAASA,EAAMA,yDAC1CC,EAAeZ,EAAMa,YAAYb,EAAMa,iDAI/EnB,EAAgBoB,YAAYb,KAchC,SAASW,EAAeG,GAClBA,OAAAA,GAAQ,EACH,QACEA,EAAO,EACT,SAEA,MA3DX7B,EAAUD,GA2CVU,SAASC,cAAc,QAAQoB,iBAAiB,SAAUC,IACxDA,EAAEC,iBACIC,MAAAA,EAAQxB,SAASC,cAAc,iBAC/BwB,KAAepC,IAAiBmC,EAAME,QAExCF,EAAME,QACRnC,EAAUkC,GACVD,EAAME,MAAQ","file":"src.eae837a8.js","sourceRoot":"../src","sourcesContent":["const API_KEY = '00462ab2-489a-4db5-b0c0-bd6fc40fc753';\nconst API_URL_Search =\n  'https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=';\n\nconst API_URL = `https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_100_POPULAR_FILMS&page=1`;\n\ngetMovies(API_URL);\n\nasync function getMovies(url) {\n  const response = await fetch(url, {\n    headers: {\n      'Content-Type': 'application/json',\n      'X-API-KEY': API_KEY,\n    },\n  });\n  const responseData = await response.json();\n  showMovies(responseData);\n}\n\nfunction showMovies(data) {\n  const containerMovies = document.querySelector('.movies .list');\n\n  containerMovies.innerHTML = '';\n\n  data.films.forEach(movie => {\n    const li = document.createElement('li');\n    li.classList.add('itemMovies');\n    li.innerHTML = `\n      <div key=\"${movie.filmId}\" class=\"movie__div\">\n        <div class=\"container__image\">\n          <img\n            src=\"${movie.posterUrlPreview}\"\n            alt=\"${movie.nameRu}\"\n            value=\"${movie.filmId}\"\n            with=\"100\"\n            class=\"movie__image\"\n          />\n        </div>\n        <div class=\"movie__info\">\n          <h6 class=\"movie__title\">${movie.nameRu}</h6>\n          <p class=\"movie__category\">${movie.year}, ${movie.genres.map(genre => genre.genre)}</p>\n          <p class=\"movie__rating rating--${addClassRating(movie.rating)}\">${movie.rating}</p>\n        </div>\n      </div>\n    `;\n    containerMovies.appendChild(li);\n  });\n}\n\ndocument.querySelector('form').addEventListener('submit', e => {\n  e.preventDefault();\n  const input = document.querySelector('.form-control');\n  const apisearch = `${API_URL_Search}${input.value}`;\n\n  if (input.value) {\n    getMovies(apisearch);\n    input.value = '';\n  }\n});\nfunction addClassRating(vote) {\n  if (vote >= 7) {\n    return 'green';\n  } else if (vote > 5) {\n    return 'orange';\n  } else {\n    return 'red';\n  }\n}\n"]}